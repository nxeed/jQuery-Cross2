/**
 * jQuery Cross2 Plugin v1.0
 * Created by Nxeed
 * https://github.com/nxeed
 */
"function"!=typeof Object.create&&(Object.create=function(e){function s(){}return s.prototype=e,new s}),function(e,s){var t={$elem:null,$slider:null,$before:null,$after:null,$dummy:null,$overlay:null,$images:null,options:{},width:0,height:0,val:.5,init:function(t,i){var o=this;this.$elem=e(i),this.options=e.extend({},e.fn.cross2.options,this.$elem.data(),t),1==this.options.vertical&&this.$elem.addClass("cross2-vertical"),this.val=this.options.value,this.$images=this.$elem.find("img"),this.$before=e('<div style="position: relative" class="cross2-item cross2-item-before"></div>'),this.$after=e('<div style="position: relative" class="cross2-item cross2-item-after"></div>'),this.$elem.append(this.$before),this.$elem.append(this.$after),this.$images.eq(0).parent().is("a")?(this.$before.append(this.$images.eq(0).parent()),this.$after.append(this.$images.eq(1).parent())):(this.$before.append(this.$images.eq(0)),this.$after.append(this.$images.eq(1))),this.options.titlesEnabled&&(this.$before.append('<span style="z-index: 2" class="cross2-item-title">'+this.options.titleBefore+"</span>"),this.$after.append('<span style="z-index: 2" class="cross2-item-title">'+this.options.titleAfter+"</span>")),this.$before.css({position:"absolute",width:"100%",zIndex:2}),this.$after.css({position:"absolute",width:"100%",zIndex:1}),this.$dummy=e('<img src="'+this.$images.eq(0).attr("src")+'" alt="Cross2 Dummy" />'),this.$dummy.css({position:"relative",visibility:"hidden"}),this.$elem.append(o.$dummy),this.$slider=e(0==o.options.mousemoveEnabled?'<a href="#" class="cross2-slider"><span></span></a>':'<div class="cross2-slider"><span></span></div>'),this.$elem.append(o.$slider),this.$overlay=e('<div class="cross2-overlay" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; z-index: 5;"></div>'),this.$elem.append(o.$overlay),this.$overlay.hide(),this.$slider.bind("click.cross2",function(s){0==o.options.mousemoveEnabled&&(e(this).focus(),o.refresh()),s.preventDefault()}),0==this.options.mousemoveEnabled&&(this.$slider.bind("focusin.cross2",function(){o.$elem.addClass("cross2-focused")}),this.$slider.bind("focusout.cross2",function(){o.$elem.removeClass("cross2-focused")})),0==this.options.mousemoveEnabled&&this.$slider.bind("keydown.cross2",function(e){1!=o.options.vertical||38!=e.keyCode&&40!=e.keyCode?0!=o.options.vertical||37!=e.keyCode&&39!=e.keyCode||(o.set(37==e.keyCode?o.val-.05:o.val+.05),o.refresh()):(o.set(38==e.keyCode?o.val-.05:o.val+.05),o.refresh())}),this.$slider.css({zIndex:3}),e(s).resize(function(){o.refresh(),o.$elem.stop(!0,!1)});var r=0;return 0==this.options.mousemoveEnabled&&this.$slider.bind("dblclick.cross2",function(){o.showHalfs()}),1==this.options.clickEnabled&&0==this.options.mousemoveEnabled&&this.$elem.bind("mousedown.cross2",function(s){var t=1==o.options.vertical?s.pageY-e(this).offset().top:s.pageX-e(this).offset().left;o.moveToOffset(t)}),1==this.options.mousemoveEnabled&&this.$elem.bind("mousemove.cross2",function(s){var t=1==o.options.vertical?s.pageY-e(this).offset().top:s.pageX-e(this).offset().left;o.setOffset(t),o.refresh()}),1==this.options.mousewheelEnabled&&0==this.options.mousemoveEnabled&&this.$elem.bind("mousewheel.cross2",function(e){if(e.deltaY<0&&o.val==(1==o.options.vertical?1:0)||e.deltaY>0&&o.val==(1==o.options.vertical?0:1))return!1;e.preventDefault();var s=1==o.options.vertical?o.val-.05:o.val+.05,t=1==o.options.vertical?o.val+.05:o.val-.05;o.set(e.deltaY>0?s:t),o.refresh()}),this.$slider.bind("dragstart.cross2",function(){o.$elem.addClass("cross2-drag"),r=o.val,o.$overlay.show(),0==o.options.mousemoveEnabled&&o.$slider.focus()}).bind("drag.cross2",function(e,s){var t=1==o.options.vertical?s.deltaY:s.deltaX,i=1==o.options.vertical?o.height:o.width,n=r*i+t;o.setOffset(n),o.refresh()}).bind("dragend.cross2",function(){o.$elem.removeClass("cross2-drag"),o.$overlay.hide()}),o.refresh(),this},setOffset:function(e){var s=1==this.options.vertical?this.height:this.width;e>s?e=s:0>e&&(e=0);var t=e/s;return this.val=t,this},set:function(e){var s=1==this.options.vertical?this.height:this.width;return this.setOffset(s*e),this},refresh:function(){this.width=this.$dummy.outerWidth(),this.height=this.$dummy.outerHeight(),this.$elem.scrollTop(0),this.$elem.scrollLeft(0);var e=1==this.options.vertical?this.height:this.width,s=Math.floor(e*this.val),t=1==this.options.vertical?"top":"left";this.$slider.css(t,s+"px");var i=1==this.options.vertical?"rect(0, "+this.width+"px,"+s+"px, 0)":"rect(0, "+s+"px,"+this.height+"px, 0)";return this.$before.css("clip",i),this},moveToOffset:function(e){var s=this,t=1==this.options.vertical?"top":"left",i={duration:this.options.animationDuration,easing:this.options.easing,step:function(){s.setOffset(parseInt(s.$slider.css(t))).refresh()},complete:function(){s.setOffset(parseInt(s.$slider.css(t))).refresh()}};return 1==this.options.vertical?this.$slider.stop(!0,!1).animate({top:e},i):this.$slider.stop(!0,!1).animate({left:e},i),this},moveTo:function(e){var s=1==this.options.vertical?this.height:this.width;return this.moveToOffset(s*e),this},showBefore:function(){var e=1==this.options.vertical?this.height:this.width;return this.moveToOffset(e),this},showAfter:function(){return this.moveToOffset(0),this},showHalfs:function(){var e=1==this.options.vertical?this.height:this.width;return this.moveToOffset(e/2),this},destroy:function(){var s=this;this.$elem.unbind(".cross2"),this.$elem.removeData(),this.$elem.removeClass("cross2-drag cross2-focused cross2-vertical"),this.$slider.unbind(".cross2"),this.$slider.remove(),this.$dummy.remove(),this.$overlay.remove(),this.$images.each(function(){s.$elem.append(e(this))}),this.$before.remove(),this.$after.remove()}};e.fn.cross2=function(s){return this.each(function(){if(1==e(this).data("cross2-init"))return!1;e(this).data("cross2-init",!0);var i=Object.create(t);i.init(s,this),e.data(this,"cross2",i)})},e.fn.cross2.options={value:.5,vertical:!1,animationDuration:150,easing:"swing",clickEnabled:!1,mousemoveEnabled:!1,mousewheelEnabled:!1,titlesEnabled:!0,titleBefore:"Before",titleAfter:"After"}}(jQuery,window,document);